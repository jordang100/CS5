0 X*** -> N 0
0 N**X -> S 1
1 *X** -> E 1
1 NE*X -> S 2
2 ***X -> S 2
2 XE*S -> N 3
3 *X** -> E 3
3 XE*S -> N 4
4 X*** -> N 0

1 NEXS -> W 5
2 NEXS -> W 5
3 NEXS -> W 5
4 NEXS -> W 5

5 X*** -> N 5
5 N**X -> S 6
6 ***X -> S 6
6 *EXS -> W 7
7 ***X -> S 5

6 XEWS -> N 8
8 **X* -> W 8 
8 X*WS -> N 9
9 X*** -> N 9
9 N*WX -> S 10
10 **X* -> W 10
10 N*WX -> S 11
11 ***X -> S 11
11 X*WS -> N 12
12 **X* -> W 8